package com.afsal.dev.filimapp.adaptersimport android.util.Logimport android.view.LayoutInflaterimport android.view.ViewGroupimport androidx.recyclerview.widget.AsyncListDifferimport androidx.recyclerview.widget.DiffUtilimport androidx.recyclerview.widget.LinearLayoutManagerimport androidx.recyclerview.widget.RecyclerViewimport com.afsal.dev.filimapp.databinding.BaseRvItemBindingimport com.afsal.dev.filimapp.databinding.CatagorayItemBindingimport com.afsal.dev.filimapp.models.CategoriesListDataclass CatagoryMoviesAdapter (private val optionClick:(moviesList:CategoriesListData)->Unit) : RecyclerView.Adapter<CatagoryMoviesAdapter.ItemHolder>() {    inner class ItemHolder(val binding: CatagorayItemBinding) :        RecyclerView.ViewHolder(binding.root) {           init {               binding.moreBt2.setOnClickListener {                   val list=differ.currentList[adapterPosition]                   if (adapterPosition!=RecyclerView.NO_POSITION){                       optionClick(list)                   }               }           }            fun initCategoryItems(moviesList:CategoriesListData){                val moviesAdapter=BaseMoviesAdapter(moviesList.movies)                binding.categoryTittle.text=moviesList.categoryName                binding.movieRv.apply {                    layoutManager = LinearLayoutManager(context, LinearLayoutManager.HORIZONTAL, false)                    setHasFixedSize(true)                    setItemViewCacheSize(8)                    adapter=moviesAdapter                }            }    }    private val diffCallback = object : DiffUtil.ItemCallback<CategoriesListData>() {        override fun areItemsTheSame(oldItem: CategoriesListData, newItem: CategoriesListData): Boolean {            return oldItem.categoryId== newItem.categoryId        }        override fun areContentsTheSame(oldItem: CategoriesListData, newItem: CategoriesListData): Boolean {            return oldItem == newItem        }    }    val differ = AsyncListDiffer(this, diffCallback)    override fun onCreateViewHolder(parent: ViewGroup, viewType: Int): ItemHolder {        return ItemHolder(            CatagorayItemBinding.inflate(                LayoutInflater.from(parent.context),                parent,                false            )        )    }    override fun onBindViewHolder(holder: ItemHolder, position: Int) {//        val item = list[position]               val categoryItems=differ.currentList[position]           holder.binding.categoryTittle.text=categoryItems.categoryName         holder.initCategoryItems(categoryItems)    }    override fun getItemCount() = differ.currentList.size}